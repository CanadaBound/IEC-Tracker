{"ast":null,"code":"var _jsxFileName = \"/Users/danielnamyslaw/iec-tracker/Frontend/src/Components/Forms/NewROIForm.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getAllCountryROI, getData } from '../../HelperFunctions';\nimport '../../CSS/Forms/NewROIForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction NewROIForm() {\n  _s();\n\n  const [showForm, setShowForm] = useState(false);\n  const [initLoad, setInitLoad] = useState(true);\n  const [name, setName] = useState('');\n  const [candidates, setCandidates] = useState('');\n  const [permits, setPermits] = useState('');\n  const [invitations, setInvitations] = useState('');\n  const [date, setDate] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [selectedCountry, setSelectedCountry] = useState([]);\n  const [originalCountryArr, setOriginalCountryArr] = useState([]);\n  const [countryArr, setCountryArr] = useState([]);\n  const [prevButton, setPrevButton] = useState();\n  const containerRef = useRef();\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    axios.post('roi', {\n      country_name: name,\n      country_candidates: candidates,\n      country_permits: permits,\n      country_invitations: invitations,\n      country_date: date\n    }).then(function (response) {\n      console.log(response);\n      setName('');\n      setCandidates('');\n      setPermits('');\n      setInvitations('');\n      setDate('');\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  function toggleROIList(e, name) {\n    if (e.currentTarget.className === 'New-ROI-Selector-Button') {\n      setShowForm(true);\n      e.currentTarget.className = 'New-ROI-Selector-Button-Active';\n      getAllCountryROI(name).then(res => {\n        setSelectedCountry(res.data);\n      });\n\n      if (prevButton !== null || typeof prevButton !== 'undefined') {\n        var localArr = containerRef.current.childNodes;\n\n        for (let i = 0; i < localArr.length; i++) {\n          if (localArr[i].id === prevButton) {\n            localArr[i].className = 'New-ROI-Selector-Button';\n          }\n        }\n      }\n\n      setPrevButton(e.currentTarget.id);\n    } else {\n      e.currentTarget.className = 'New-ROI-Selector-Button';\n      setSelectedCountry([]);\n      setShowForm(false);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"New-ROI-Title\",\n      children: \"New Round of Invitations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Layout-Wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"New-ROI-Country-Selector\",\n        ref: containerRef,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          placeholder: \"Search..\",\n          value: searchValue,\n          onChange: e => setSearchValue(e.target.value),\n          className: \"New-ROI-Country-Selector-Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), countryArr.map(country => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"New-ROI-Selector-Button\",\n          id: country._id,\n          onClick: e => toggleROIList(e, country.country_name),\n          children: country.country_name\n        }, country.country_name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 35\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"New-ROI-Form\",\n        children: showForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Candidates\",\n            value: candidates,\n            onChange: e => setCandidates(e.currentTarget.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Permits Left\",\n            value: permits,\n            onChange: e => setPermits(e.currentTarget.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Invitations\",\n            value: invitations,\n            onChange: e => setInvitations(e.currentTarget.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Date\",\n            value: date,\n            onChange: e => setDate(e.currentTarget.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"ROI-Submit-Button\",\n            onClick: e => onSubmit(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NewROIForm, \"gyw9r/zWZXo0NKoMy+FSc4dMEVo=\");\n\n_c = NewROIForm;\nexport default NewROIForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewROIForm\");","map":{"version":3,"sources":["/Users/danielnamyslaw/iec-tracker/Frontend/src/Components/Forms/NewROIForm.js"],"names":["useRef","useState","useEffect","axios","getAllCountryROI","getData","NewROIForm","showForm","setShowForm","initLoad","setInitLoad","name","setName","candidates","setCandidates","permits","setPermits","invitations","setInvitations","date","setDate","searchValue","setSearchValue","selectedCountry","setSelectedCountry","originalCountryArr","setOriginalCountryArr","countryArr","setCountryArr","prevButton","setPrevButton","containerRef","onSubmit","e","preventDefault","post","country_name","country_candidates","country_permits","country_invitations","country_date","then","response","console","log","catch","error","toggleROIList","currentTarget","className","res","data","localArr","current","childNodes","i","length","id","target","value","map","country","_id"],"mappings":"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","sourcesContent":["import {useRef, useState, useEffect} from 'react';\nimport axios from 'axios';\n\nimport { getAllCountryROI, getData } from '../../HelperFunctions';\n\nimport '../../CSS/Forms/NewROIForm.css';\n\nfunction NewROIForm(){\n\n\tconst [showForm, setShowForm]= useState(false);\n\tconst [initLoad, setInitLoad] = useState(true);\n\n\tconst [name, setName] = useState('');\n\tconst [candidates, setCandidates] = useState('');\n\tconst [permits, setPermits] = useState('');\n\tconst [invitations, setInvitations] = useState('');\n\tconst [date, setDate] = useState('');\n\tconst [searchValue, setSearchValue] = useState('');\n\n\tconst [selectedCountry, setSelectedCountry] = useState([]);\n\tconst [originalCountryArr, setOriginalCountryArr]= useState([]);\n\tconst [countryArr, setCountryArr] = useState([]);\n\n\tconst [prevButton, setPrevButton] = useState();\n\n\tconst containerRef = useRef();\n\n\tasync function onSubmit(e){\n\t\te.preventDefault();\n\n\t\taxios.post('roi', {\n\t\t\tcountry_name: name,\n\t\t\tcountry_candidates: candidates,\n\t\t\tcountry_permits: permits,\n\t\t\tcountry_invitations: invitations,\n\t\t\tcountry_date: date\n\t\t  })\n\t\t  .then(function (response) {\n\t\t\tconsole.log(response);\n\t\t\tsetName('');\n\t\t\tsetCandidates('');\n\t\t\tsetPermits('');\n\t\t\tsetInvitations('');\n\t\t\tsetDate('');\n\t\t  })\n\t\t  .catch(function (error) {\n\t\t\tconsole.log(error);\n\t\t  });\n\t}\n\n\tfunction toggleROIList(e, name){\n\t\t\n\t\tif(e.currentTarget.className === 'New-ROI-Selector-Button'){\n\t\t\tsetShowForm(true);\n\t\t\te.currentTarget.className = 'New-ROI-Selector-Button-Active';\n\t\t\tgetAllCountryROI(name).then(res=>{\n\t\t\t\tsetSelectedCountry(res.data);\n\t\t\t})\n\t\t\tif(prevButton !== null || typeof prevButton !== 'undefined'){\n\t\t\t\tvar localArr = containerRef.current.childNodes;\n\t\t\t\tfor(let i=0; i <localArr.length; i++){\n\t\t\t\t\tif(localArr[i].id === prevButton){\n\t\t\t\t\t\tlocalArr[i].className = 'New-ROI-Selector-Button';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tsetPrevButton(e.currentTarget.id);\n\t\t}\n\t\telse{\n\t\t\te.currentTarget.className = 'New-ROI-Selector-Button'\n\t\t\tsetSelectedCountry([]);\n\t\t\tsetShowForm(false);\n\t\t}\n\t}\n\n\n\t\n\n\treturn (\n\t\t<>\n\t\t\t<h1 className=\"New-ROI-Title\">New Round of Invitations</h1>\n\t\t\t<div className='Layout-Wrapper'>\n\t\t\t\t<div className='New-ROI-Country-Selector' ref={containerRef}>\n\t\t\t\t\t<input type=\"search\" placeholder=\"Search..\" value={searchValue} onChange={(e)=>setSearchValue(e.target.value)} className='New-ROI-Country-Selector-Search'/>\n    \t\t\t\t{countryArr.map(country=> <button key ={country.country_name} className='New-ROI-Selector-Button' id={country._id} onClick={(e)=>toggleROIList(e, country.country_name)}>{country.country_name}</button>)}\n\n\t\t\t\t</div>\n\t\t\t\t<form className='New-ROI-Form'>\n\t\t\t\t\t{showForm?<>\n\t\t\t\t\t<input type=\"text\" placeholder='Candidates' value={candidates} onChange={(e)=>setCandidates(e.currentTarget.value)}/>\n\t\t\t\t\t<input type=\"text\" placeholder='Permits Left' value={permits} onChange={(e)=>setPermits(e.currentTarget.value)}/>\n\t\t\t\t\t<input type=\"text\" placeholder='Invitations' value={invitations} onChange={(e)=>setInvitations(e.currentTarget.value)}/>\n\t\t\t\t\t<input type=\"date\" placeholder='Date' value={date} onChange={(e)=>setDate(e.currentTarget.value)}/>\n\t\t\t\t\t<input type=\"submit\" className='ROI-Submit-Button' onClick={(e)=>onSubmit(e)}/>\n\t\t\t\t\t</>:null}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t\n\t\t</>\n  );\n\n}\nexport default NewROIForm;"]},"metadata":{},"sourceType":"module"}